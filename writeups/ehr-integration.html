<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>on ehr integration and its pitfalls | khalaf.ai</title>
    <link rel="stylesheet" href="../style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;700&display=swap" rel="stylesheet">
    <meta property="og:title" content="on ehr integration and its pitfalls">
    <meta property="og:description" content="a living artifact on integrating with electronic health records for startups">
    <meta property="og:image" content="https://khalaf.ai/res/og/ehr-integration.png">
    <meta property="og:url" content="https://khalaf.ai/writeups/ehr-integration.html">
    <meta property="og:type" content="article">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="on ehr integration and its pitfalls">
    <meta name="twitter:description" content="a living artifact on integrating with electronic health records for startups">
    <meta name="twitter:image" content="https://khalaf.ai/res/og/ehr-integration.png">
</head>
<body>
    <header>
        <div class="header-content">
            <div class="header-left">
                <h1 class="site-title"><a href="../index.html" class="site-title-link">khalaf.ai</a></h1>
                <nav>
                    <a href="../index.html" class="nav-link">home</a>
                    <a href="../index.html#projects" class="nav-link">projects</a>
                    <a href="../index.html#writeups" class="nav-link active">writeups</a>
                </nav>
            </div>
        </div>
        <div class="header-right">
            <a href="https://github.com/MrKhalaf" target="_blank" class="github-link" aria-label="GitHub profile">
                <svg width="40" height="40" viewBox="0 0 24 24" fill="currentColor">
                    <path d="M12 0.297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.387 0.6 0.113 0.82-0.258 0.82-0.577 0-0.285-0.01-1.04-0.015-2.04-3.338 0.724-4.042-1.61-4.042-1.61-0.546-1.387-1.333-1.756-1.333-1.756-1.089-0.745 0.084-0.729 0.084-0.729 1.205 0.084 1.84 1.236 1.84 1.236 1.07 1.834 2.809 1.304 3.495 0.997 0.108-0.775 0.418-1.305 0.762-1.605-2.665-0.305-5.466-1.334-5.466-5.931 0-1.31 0.469-2.381 1.236-3.221-0.124-0.303-0.535-1.523 0.117-3.176 0 0 1.008-0.322 3.301 1.23 0.957-0.266 1.983-0.399 3.003-0.404 1.02 0.005 2.047 0.138 3.006 0.404 2.291-1.553 3.297-1.23 3.297-1.23 0.653 1.653 0.242 2.873 0.118 3.176 0.77 0.84 1.235 1.911 1.235 3.221 0 4.609-2.803 5.624-5.475 5.921 0.43 0.372 0.823 1.102 0.823 2.222 0 1.606-0.014 2.898-0.014 3.293 0 0.322 0.216 0.694 0.825 0.576 4.765-1.589 8.199-6.085 8.199-11.386 0-6.627-5.373-12-12-12z"/>
                </svg>
            </a>
            <a href="https://linkedin.com/in/mohammadkhal" target="_blank" class="linkedin-link" aria-label="LinkedIn profile">
                <svg width="40" height="40" viewBox="0 0 24 24" fill="currentColor">
                    <path d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"/>
                </svg>
            </a>
        </div>
    </header>

    <main>
        <section class="content-section active writeup-detail">
            <div class="writeup-header">
                <a href="../index.html#writeups" class="back-button">&lt; back to writeups</a>
                <h2>on ehr integration and its pitfalls</h2>
            </div>
            <div class="writeup-content">
                <h3>A practical breakdown of what it actually takes to plug into electronic health records</h3>

                <p>If you're building healthcare software, you will eventually need to read and write data from an EHR. On paper, modern EHRs expose FHIR APIs and integration should be straightforward. In practice, it's one of the most underestimated engineering lifts in health tech.</p>

                <p>These are my notes on navigating the landscape, written for engineers and founders who are just getting started.</p>

                <h4>step 1: map the data flow</h4>
                <p>Before touching a single API, meticulously map out every piece of data your application needs. What FHIR resources are you reading? What are you writing back? What entities flow through each step of your workflow?</p>
                <p>The more you lock in your data flow early, the easier every conversation with health systems, vendors, and compliance teams will be down the line. This is the foundation everything else sits on.</p>

                <h4>know your client's EHR composition</h4>
                <p>The EHR market is more consolidated than you'd expect at the top, but there's a long tail of mini-EHRs, especially in organizations that don't depend on CMS reimbursement. Tools like Definitive Healthcare let you see what EHRs are in use across practice types in your target market. Do this research before writing code.</p>

                <h4>the (ideal) development process</h4>
                <p>Modern EHRs all run FHIR APIs. If you build for one, you've built for most. The ideal starting point is an open-source headless EHR like Medplum. Build your integration against its FHIR APIs first. Once it works there, you can adapt to the major commercial EHRs with relatively little friction.</p>

                <p>Developer sandbox access is available within days for all the major players. If you built around Medplum's FHIR surface, iteration is fast.</p>

                <h4>going live on the big EHRs</h4>
                <p><strong>Epic</strong> has no centralized developer gate. Each health system maintains its own instance and its own IT and infosec department. You deal with each one individually. Epic does provide a sandbox for testing, but the per-site deployment overhead is real.</p>

                <p><strong>Athena</strong> is single-instance, multi-tenant cloud. You go through Athena directly and demonstrate your app's utility. If you pass and land on the Athena Marketplace, your software drops into any Athena setup nationwide. Higher upfront cost, but marginal deployment cost approaches zero.</p>

                <p><strong>eClinicalWorks</strong> is cloud-hosted with FHIR APIs accessible to third parties. Deeper integrations require a provider partner to advocate on your behalf. Most other major EHRs follow a similar pattern.</p>

                <h4>if only it was that simple</h4>
                <p>You might look at the above and think it's manageable. It's not.</p>

                <img src="../res/fhir-iceberg.png" alt="FHIR iceberg â€” the FHIR API is only the tip above water" class="writeup-image">

                <p><strong>Legacy EHRs.</strong> Some niche systems don't expose FHIR at all. You end up doing RPA-style workarounds with AI agents to extract and push data. It's a headache.</p>

                <p><strong>Per-customer variance.</strong> Even within a single EHR, customers can have wildly different integration mandates. Some Epic orgs are API-first, making FHIR plug-and-play. Others maintain sprawling legacy stacks over HL7 and X12 and will resist an API-based integration. Their restrictions will encumber your work.</p>

                <p><strong>Proprietary endpoints.</strong> Some EHRs layer proprietary APIs on top of or alongside FHIR. You're no longer writing to a standard.</p>

                <p><strong>Workflow demands beyond REST.</strong> Your workflow might need push notifications via SSE, bulk data exports, or real-time event streams. Suddenly you're supporting a matrix of integration types, protocols, and edge cases.</p>

                <p>This is the iceberg. The FHIR API is the tip above water. Below it sits the sprawl of integration permutations that compounds with every new client.</p>

                <h4>integration platforms</h4>
                <p>There are two tiers of help available:</p>

                <p><strong>Integration tooling</strong> helps you set up connections but does not provide pre-built connectivity. You still need to learn the data formats, handle integration types, and manage each EHR's capabilities yourself.</p>

                <p><strong>Managed service offerings</strong> smooth out the integration with individual EHRs and health systems. They operate a standardized model so you can develop against one interface. Vendors like Redox, NexHealth, and MI7 fall here. For large-scale data extraction workflows, there's Ellkay and Healthjump.</p>

                <h4>so what's the strategy?</h4>
                <p>The combination of requirements beyond simple HTTP FHIR requests and the fragmented adoption landscape for legacy and niche EHRs makes doing it all yourself an enormous lift.</p>

                <p>Even if you plan to use a vendor, the process outlined above still matters. You need to know your data flow, exactly what you read and write from the EHR, and what your clients are running today.</p>

                <p>My approach: rely on a managed vendor solution unless you have a very concentrated customer base on one or two EHRs. Regardless, the mid-to-long term plan should be to procedurally bring integrations in-house until the vendor dependency shrinks to zero.</p>
            </div>
        </section>
    </main>
</body>
</html>
